import { Clinic } from "../helpers";
import { getAllOpeningHours, getOpeningHours } from "./Clinic.utils";

test("moro", () => {
  let clinics: Clinic[] = [
    {
      id: "bogstadveien30",
      name: "Bogstadveien 30",
      timezone: "Europe/Oslo",
      openingHours: {
        mon: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
        fri: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
        sun: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
        thu: { isOpen: true, periods: [{ from: 32400000, to: 64800000 }] },
        tue: { isOpen: true, periods: [{ to: 64800000, from: 32400000 }] },
        sat: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
        wed: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
      },
      estimatedWaitingTimeInMinutes: 0,
      isOpen: true,
      isFull: false,
      delay: 0,
      priority: 10,
      nextAvailableVideo: 0,
      nextAvailableConsultation: 0,
      isVideoBookingOpen: false,
    },
    {
      id: "fysikalskemajorstua",
      name: "Fysikalske majorstua",
      timezone: "Europe/Oslo",
      openingHours: {
        fri: { isOpen: true, periods: [{ from: 32400000, to: 79200000 }] },
        sat: { periods: [{ to: 79200000, from: 32400000 }], isOpen: true },
        tue: { isOpen: true, periods: [{ to: 72000000, from: 39600000 }] },
        thu: { isOpen: true, periods: [{ to: 79200000, from: 32400000 }] },
        wed: { isOpen: true, periods: [{ to: 79200000, from: 36000000 }] },
        mon: { periods: [{ to: 79200000, from: 32400000 }], isOpen: true },
        sun: { isOpen: true, periods: [{ from: 32400000, to: 68400000 }] },
      },
      estimatedWaitingTimeInMinutes: 0,
      isOpen: true,
      isFull: false,
      delay: 0,
      priority: 10,
      nextAvailableVideo: 0,
      nextAvailableConsultation: 0,
      isVideoBookingOpen: false,
    },
  ];
  // {
  //   id: "kiropraktormaja",
  //   name: "Kiropraktor maja",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     sun: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //     fri: { periods: [{ from: 0, to: 0 }], isOpen: true },
  //     tue: { periods: [{ to: 0, from: 0 }], isOpen: true },
  //     wed: { periods: [{ from: 0, to: 0 }], isOpen: true },
  //     mon: { periods: [{ from: 0, to: 0 }], isOpen: true },
  //     thu: { periods: [{ to: 0, from: 0 }], isOpen: true },
  //     sat: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "fysiomaja",
  //   name: "Fysio maja",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     fri: { periods: [{ to: 79200000, from: 32400000 }], isOpen: true },
  //     sun: { periods: [{ to: 0, from: 0 }], isOpen: true },
  //     thu: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //     sat: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //     tue: { isOpen: true, periods: [{ from: 0, to: 0 }] },
  //     wed: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //     mon: { isOpen: true, periods: [{ to: 0, from: 0 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "testklinikknati",
  //   name: "Testklinikk nationalteateret",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     sun: { isOpen: true, periods: [{ from: 28800000, to: 79200000 }] },
  //     tue: { periods: [{ from: 28800000, to: 79200000 }], isOpen: true },
  //     sat: { periods: [{ to: 79200000, from: 28800000 }], isOpen: true },
  //     fri: { periods: [{ from: 28800000, to: 79200000 }], isOpen: true },
  //     mon: { periods: [{ to: 79200000, from: 28800000 }], isOpen: true },
  //     thu: { isOpen: true, periods: [{ from: 28800000, to: 79200000 }] },
  //     wed: { isOpen: true, periods: [{ to: 79200000, from: 28800000 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "oknational",
  //   name: "OK National",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     fri: { isOpen: true, periods: [{ to: 79200000, from: 28800000 }] },
  //     sat: { isOpen: true, periods: [{ to: 79200000, from: 28800000 }] },
  //     tue: { isOpen: true, periods: [{ to: 79200000, from: 28800000 }] },
  //     wed: { periods: [{ to: 79200000, from: 28800000 }], isOpen: true },
  //     mon: { isOpen: true, periods: [{ from: 28800000, to: 79200000 }] },
  //     sun: { periods: [{ to: 79200000, from: 28800000 }], isOpen: true },
  //     thu: { isOpen: true, periods: [{ from: 28800000, to: 79200000 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "coronatestbarco",
  //   name: "Coronatest Barcode",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     tue: { periods: [{ to: 64800000, from: 32400000 }], isOpen: false },
  //     mon: { periods: [{ from: 32400000, to: 64800000 }], isOpen: false },
  //     thu: { isOpen: false, periods: [{ from: 32400000, to: 64800000 }] },
  //     fri: { periods: [{ to: 64800000, from: 32400000 }], isOpen: false },
  //     wed: { isOpen: false, periods: [{ to: 64800000, from: 32400000 }] },
  //     sun: { periods: [{ to: 64800000, from: 32400000 }], isOpen: false },
  //     sat: { periods: [{ to: 64800000, from: 32400000 }], isOpen: false },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: false,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "carlberner4",
  //   name: "Carl Berner",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     thu: { isOpen: true, periods: [{ from: 32400000, to: 64800000 }] },
  //     mon: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
  //     wed: { isOpen: true, periods: [{ to: 64800000, from: 32400000 }] },
  //     fri: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
  //     sat: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
  //     sun: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
  //     tue: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "gronerlokka1",
  //   name: "Grünerløkka",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     wed: { periods: [{ to: 72000000, from: 28800000 }], isOpen: true },
  //     sat: { periods: [{ to: 82800000, from: 7200000 }], isOpen: false },
  //     sun: { periods: [{ from: 7200000, to: 82800000 }], isOpen: false },
  //     mon: { isOpen: true, periods: [{ from: 28800000, to: 72000000 }] },
  //     fri: { isOpen: true, periods: [{ to: 72000000, from: 28800000 }] },
  //     thu: { isOpen: true, periods: [{ from: 28800000, to: 72000000 }] },
  //     tue: { isOpen: true, periods: [{ to: 72000000, from: 28800000 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  // {
  //   id: "video1",
  //   name: "video",
  //   timezone: "Europe/Oslo",
  //   openingHours: {
  //     wed: { isOpen: false, periods: [{ from: 0, to: 86340000 }] },
  //     mon: { isOpen: false, periods: [{ to: 86340000, from: 0 }] },
  //     sat: { periods: [{ from: 0, to: 86340000 }], isOpen: false },
  //     fri: { isOpen: false, periods: [{ to: 86340000, from: 0 }] },
  //     sun: { isOpen: false, periods: [{ to: 86340000, from: 0 }] },
  //     tue: { periods: [{ from: 0, to: 86340000 }], isOpen: false },
  //     thu: { isOpen: true, periods: [{ from: 53100000, to: 85500000 }] },
  //   },
  //   estimatedWaitingTimeInMinutes: 0,
  //   isOpen: true,
  //   isFull: false,
  //   delay: 0,
  //   priority: 10,
  //   nextAvailableVideo: 0,
  //   nextAvailableConsultation: 0,
  //   isVideoBookingOpen: false,
  // },
  //];

  let clinic: Clinic = {
    id: "bogstadveien30",
    name: "Bogstadveien 30",
    timezone: "Europe/Oslo",
    openingHours: {
      mon: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
      fri: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
      sun: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
      thu: { isOpen: true, periods: [{ from: 32400000, to: 64800000 }] },
      tue: { isOpen: true, periods: [{ to: 64800000, from: 32400000 }] },
      sat: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
      wed: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
    },
    estimatedWaitingTimeInMinutes: 0,
    isOpen: true,
    isFull: false,
    delay: 0,
    priority: 10,
    nextAvailableVideo: 0,
    nextAvailableConsultation: 0,
    isVideoBookingOpen: false,
  };
  const result = getAllOpeningHours(clinics);
  expect(result).toEqual([
    {
      clinic: {
        id: "bogstadveien30",
        name: "Bogstadveien 30",
        timezone: "Europe/Oslo",
        openingHours: {
          mon: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
          fri: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
          sun: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
          thu: { isOpen: true, periods: [{ from: 32400000, to: 64800000 }] },
          tue: { isOpen: true, periods: [{ to: 64800000, from: 32400000 }] },
          sat: { periods: [{ to: 64800000, from: 32400000 }], isOpen: true },
          wed: { periods: [{ from: 32400000, to: 64800000 }], isOpen: true },
        },
        estimatedWaitingTimeInMinutes: 0,
        isOpen: true,
        isFull: false,
        delay: 0,
        priority: 10,
        nextAvailableVideo: 0,
        nextAvailableConsultation: 0,
        isVideoBookingOpen: false,
      },
      dayGroups: [
        {
          from: 32400000,
          to: 64800000,
          groupLabel: [
            "Mandag",
            "Tirsdag",
            "Onsdag",
            "Torsdag",
            "Fredag",
            "Lørdag",
            "Søndag",
          ],
          isOpen: true,
        },
      ],
    },
    {
      clinic: {
        id: "fysikalskemajorstua",
        name: "Fysikalske majorstua",
        timezone: "Europe/Oslo",
        openingHours: {
          fri: { isOpen: true, periods: [{ from: 32400000, to: 79200000 }] },
          sat: { periods: [{ to: 79200000, from: 32400000 }], isOpen: true },
          tue: { isOpen: true, periods: [{ to: 72000000, from: 39600000 }] },
          thu: { isOpen: true, periods: [{ to: 79200000, from: 32400000 }] },
          wed: { isOpen: true, periods: [{ to: 79200000, from: 36000000 }] },
          mon: { periods: [{ to: 79200000, from: 32400000 }], isOpen: true },
          sun: { isOpen: true, periods: [{ from: 32400000, to: 68400000 }] },
        },
        estimatedWaitingTimeInMinutes: 0,
        isOpen: true,
        isFull: false,
        delay: 0,
        priority: 10,
        nextAvailableVideo: 0,
        nextAvailableConsultation: 0,
        isVideoBookingOpen: false,
      },
      dayGroups: [
        {
          from: 32400000,
          to: 79200000,
          groupLabel: ["Mandag"],
          isOpen: true,
        },
        {
          from: 39600000,
          to: 72000000,
          groupLabel: ["Tirsdag"],
          isOpen: true,
        },
        {
          from: 36000000,
          to: 79200000,
          groupLabel: ["Onsdag"],
          isOpen: true,
        },
        {
          from: 32400000,
          to: 79200000,
          groupLabel: ["Torsdag", "Fredag", "Lørdag"],
          isOpen: true,
        },
        {
          from: 32400000,
          to: 68400000,
          groupLabel: ["Søndag"],
          isOpen: true,
        },
      ],
    },
  ]);
});
